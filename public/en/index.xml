<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Let&#39;s fight monsters and upgrade together</title>
    <link>/en/</link>
    <description>Recent content on Let&#39;s fight monsters and upgrade together</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <managingEditor>xiaqiankun@outlook.com (xqk)</managingEditor>
    <webMaster>xiaqiankun@outlook.com (xqk)</webMaster>
    <lastBuildDate>Wed, 30 Aug 2023 17:08:26 +0800</lastBuildDate><atom:link href="/en/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>有意思的文案</title>
      <link>/en/posts/2023-07-20-you-yi-si-de-wen-an/</link>
      <pubDate>Thu, 20 Jul 2023 21:55:21 +0800</pubDate>
      <author>xiaqiankun@outlook.com (xqk)</author>
      <guid>/en/posts/2023-07-20-you-yi-si-de-wen-an/</guid>
      <description> 人一到群体中，智商就严重降低，为了获得认同，个体愿意抛弃是非，用智商去换取那份让人备感安全的归属感。 --- 《乌合之众》 人生就应该如同蜡烛一样，从头燃到尾，始终光明。 --- 《第一序列》 女学生白天上课，晚上当妓女，这是负能量。妓女晚上接客，白天坚持上学，这就是正能量。 屡战屡败，是愚蠢。屡败屡战，是勇气。 花有重开日，人无再少年 穷则独善其身，达则兼济天下。 莫愁前路无知己，天下谁人不识君。 天底下有一句话特别对，冤枉你的人比你还知道你有多冤枉 --- 郭德纲 当你有金刚手段，具备碾压实力时，再谈：&amp;lsquo;得饶人处且饶人&amp;rsquo; 其实人跟树是一样的，越是向往高处的阳光，它的根就越要伸向黑暗的地底。 这世上只有一种成功，就是能够用自己喜欢的方式度过自己的一生 ---《头文字D》 </description>
      <content>&lt;ul&gt;
&lt;li&gt;人一到群体中，智商就严重降低，为了获得认同，个体愿意抛弃是非，用智商去换取那份让人备感安全的归属感。 &lt;code&gt;--- 《乌合之众》&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;人生就应该如同蜡烛一样，从头燃到尾，始终光明。 &lt;code&gt;--- 《第一序列》&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;女学生白天上课，晚上当妓女，这是负能量。妓女晚上接客，白天坚持上学，这就是正能量。
屡战屡败，是愚蠢。屡败屡战，是勇气。&lt;/li&gt;
&lt;li&gt;花有重开日，人无再少年&lt;/li&gt;
&lt;li&gt;穷则独善其身，达则兼济天下。&lt;/li&gt;
&lt;li&gt;莫愁前路无知己，天下谁人不识君。&lt;/li&gt;
&lt;li&gt;天底下有一句话特别对，冤枉你的人比你还知道你有多冤枉 &lt;code&gt;--- 郭德纲&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;当你有金刚手段，具备碾压实力时，再谈：&amp;lsquo;得饶人处且饶人&amp;rsquo;&lt;/li&gt;
&lt;li&gt;其实人跟树是一样的，越是向往高处的阳光，它的根就越要伸向黑暗的地底。&lt;/li&gt;
&lt;li&gt;这世上只有一种成功，就是能够用自己喜欢的方式度过自己的一生 &lt;code&gt; ---《头文字D》&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
    </item>
    
    <item>
      <title>搜索服务器选购及部署</title>
      <link>/en/posts/2023-07-18-sou-suo-fu-wu-qi-xuan-gou-ji-bu-shu/</link>
      <pubDate>Tue, 18 Jul 2023 17:18:13 +0800</pubDate>
      <author>xiaqiankun@outlook.com (xqk)</author>
      <guid>/en/posts/2023-07-18-sou-suo-fu-wu-qi-xuan-gou-ji-bu-shu/</guid>
      <description>选购 内存 64GB 硬盘ESSD 100GB cpu 8核
内存 64 GB 内存的机器是非常理想的， 但是32 GB 和16 GB 机器也是很常见的。少于8 GB 会适得其反（你最终需要很多很多的小机器），大于64 GB 的机器也会有问题
CPU 大多数 Elasticsearch 部署往往对 CPU 要求不高。因此，相对其它资源，具体配置多少个（CPU）不是那么关键。你应该选择具有多个内核的现代处理器，常见的集群使用两到八个核的机器。
硬盘 硬盘对所有的集群都很重要，对大量写入的集群更是加倍重要（例如那些存储日志数据的）。硬盘是服务器上最慢的子系统，这意味着那些写入量很大的集群很容易让硬盘饱和，使得它成为集群的瓶颈。
如果你负担得起 SSD，它将远远超出任何旋转介质（注：机械硬盘，磁带等）。 基于 SSD 的节点，查询和索引性能都有提升。如果你负担得起，SSD 是一个好的选择。
部署 # 创建elk用户 groupadd elk useradd elk -g elk -p elk mkdir -p /data/users/elk chown elk:elk /data/users/elk # 进入elk用户模式 cd /data/users/elk su elk # 下载es mkdir downloads cd downloads # 到官网下载elasticsearch-8.7.0，解压到/data/users/elk/elasticsearch-8.7.0 # 配置，进入es软件目录 # 设置config/elasticsearch.yml 把端口改为29200 # 禁止 swap，一旦允许内存与磁盘的交换，会引起致命的性能问题。可以通过在 elasticsearch.</description>
      <content>&lt;h2 id=&#34;选购&#34;&gt;选购&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;内存 64GB
硬盘ESSD 100GB
cpu 8核&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;内存&#34;&gt;内存&lt;/h3&gt;
&lt;p&gt;64 GB 内存的机器是非常理想的， 但是32 GB 和16 GB 机器也是很常见的。少于8 GB 会适得其反（你最终需要很多很多的小机器），大于64 GB 的机器也会有问题&lt;/p&gt;
&lt;h3 id=&#34;cpu&#34;&gt;CPU&lt;/h3&gt;
&lt;p&gt;大多数 Elasticsearch 部署往往对 CPU 要求不高。因此，相对其它资源，具体配置多少个（CPU）不是那么关键。你应该选择具有多个内核的现代处理器，常见的集群使用两到八个核的机器。&lt;/p&gt;
&lt;h3 id=&#34;硬盘&#34;&gt;硬盘&lt;/h3&gt;
&lt;p&gt;硬盘对所有的集群都很重要，对大量写入的集群更是加倍重要（例如那些存储日志数据的）。硬盘是服务器上最慢的子系统，这意味着那些写入量很大的集群很容易让硬盘饱和，使得它成为集群的瓶颈。&lt;/p&gt;
&lt;p&gt;如果你负担得起 SSD，它将远远超出任何旋转介质（注：机械硬盘，磁带等）。 基于 SSD 的节点，查询和索引性能都有提升。如果你负担得起，SSD 是一个好的选择。&lt;/p&gt;
&lt;h2 id=&#34;部署&#34;&gt;部署&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 创建elk用户&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;groupadd elk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;useradd elk -g elk -p elk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir -p /data/users/elk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;chown elk:elk /data/users/elk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 进入elk用户模式&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /data/users/elk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;su elk
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 下载es&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mkdir downloads
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; downloads
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 到官网下载elasticsearch-8.7.0，解压到/data/users/elk/elasticsearch-8.7.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 配置，进入es软件目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 设置config/elasticsearch.yml 把端口改为29200&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 禁止 swap，一旦允许内存与磁盘的交换，会引起致命的性能问题。可以通过在 elasticsearch.yml中 bootstrap.memory_lock: true，以保持 JVM 锁定内存，保证 ES 的性能&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 启动es&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /data/users/elk/elasticsearch-8.7.0&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;./bin/elasticsearch -d -p es29200.pid
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;把你的内存的少于一半给-lucene&#34;&gt;把你的内存的（少于）一半给 Lucene&lt;/h3&gt;
&lt;p&gt;一个常见的问题是给 Elasticsearch 分配的内存 太 大了。假设你有一个 64 GB 内存的机器， 天啊，我要把 64 GB 内存全都给 Elasticsearch。因为越多越好啊！&lt;/p&gt;
&lt;p&gt;当然，内存对于 Elasticsearch 来说绝对是重要的，它可以被许多内存数据结构使用来提供更快的操作。但是说到这里， 还有另外一个内存消耗大户 非堆内存 （off-heap）：Lucene。&lt;/p&gt;
&lt;p&gt;Lucene 被设计为可以利用操作系统底层机制来缓存内存数据结构。 Lucene 的段是分别存储到单个文件中的。因为段是不可变的，这些文件也都不会变化，这是对缓存友好的，同时操作系统也会把这些段文件缓存起来，以便更快的访问。&lt;/p&gt;
&lt;p&gt;Lucene 的性能取决于和操作系统的相互作用。如果你把所有的内存都分配给 Elasticsearch 的堆内存，那将不会有剩余的内存交给 Lucene。 这将严重地影响全文检索的性能。&lt;/p&gt;
&lt;p&gt;标准的建议是把 50％ 的可用内存作为 Elasticsearch 的堆内存，保留剩下的 50％。当然它也不会被浪费，Lucene 会很乐意利用起余下的内存。&lt;/p&gt;
&lt;p&gt;如果你不需要对分词字符串做聚合计算（例如，不需要 fielddata ）可以考虑降低堆内存。堆内存越小，Elasticsearch（更快的 GC）和 Lucene（更多的内存用于缓存）的性能越好。&lt;/p&gt;
&lt;h3 id=&#34;不要超过-32-gb&#34;&gt;不要超过 32 GB！&lt;/h3&gt;
&lt;p&gt;这里有另外一个原因不分配大内存给 Elasticsearch。事实上， JVM 在内存小于 32 GB 的时候会采用一个内存对象指针压缩技术。&lt;/p&gt;
&lt;p&gt;在 Java 中，所有的对象都分配在堆上，并通过一个指针进行引用。 普通对象指针（OOP）指向这些对象，通常为 CPU 字长 的大小：32 位或 64 位，取决于你的处理器。指针引用的就是这个 OOP 值的字节位置。&lt;/p&gt;
&lt;p&gt;对于 32 位的系统，意味着堆内存大小最大为 4 GB。对于 64 位的系统， 可以使用更大的内存，但是 64 位的指针意味着更大的浪费，因为你的指针本身大了。更糟糕的是， 更大的指针在主内存和各级缓存（例如 LLC，L1 等）之间移动数据的时候，会占用更多的带宽。&lt;/p&gt;
&lt;p&gt;Java 使用一个叫作 内存指针压缩（compressed oops）的技术来解决这个问题。 它的指针不再表示对象在内存中的精确位置，而是表示 偏移量 。这意味着 32 位的指针可以引用 40 亿个 对象 ， 而不是 40 亿个字节。最终， 也就是说堆内存增长到 32 GB 的物理内存，也可以用 32 位的指针表示。&lt;/p&gt;
&lt;p&gt;一旦你越过那个神奇的 ~32 GB 的边界，指针就会切回普通对象的指针。 每个对象的指针都变长了，就会使用更多的 CPU 内存带宽，也就是说你实际上失去了更多的内存。事实上，当内存到达 40–50 GB 的时候，有效内存才相当于使用内存对象指针压缩技术时候的 32 GB 内存。&lt;/p&gt;
&lt;p&gt;这段描述的意思就是说：即便你有足够的内存，也尽量不要 超过 32 GB。因为它浪费了内存，降低了 CPU 的性能，还要让 GC 应对大内存。&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>About</title>
      <link>/en/about/</link>
      <pubDate>Mon, 30 Aug 2021 13:42:59 +0800</pubDate>
      <author>xiaqiankun@outlook.com (xqk)</author>
      <guid>/en/about/</guid>
      <description>Hi all 👋 🧑🏻‍💻 I’m currently working on zhukehulian 🌱 I’m currently learning Multimodal Learning 👯 I’m looking to collaborate on Zero-shot learning 🌈 How to reach me: xiaqiankun@outlook.com </description>
      <content>&lt;h3 id=&#34;hi-all-&#34;&gt;Hi all 👋&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;🧑🏻‍💻 I’m currently working on zhukehulian&lt;/li&gt;
&lt;li&gt;🌱 I’m currently learning Multimodal Learning&lt;/li&gt;
&lt;li&gt;👯 I’m looking to collaborate on Zero-shot learning&lt;/li&gt;
&lt;li&gt;🌈 How to reach me: &lt;a href=&#34;mailto:xiaqiankun@outlook.com&#34;&gt;xiaqiankun@outlook.com&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://github-readme-stats.vercel.app/api?username=xqk&amp;amp;show_icons=true&amp;amp;theme=swift&amp;amp;count_private=true&amp;amp;hide=prs&amp;amp;line_height=24.3&#34; alt=&#34;xqk&amp;rsquo;s GitHub stats&#34;&gt;
&lt;img src=&#34;https://github-readme-stats.vercel.app/api/top-langs/?username=xqk&amp;amp;layout=compact&amp;amp;show_icons=true&amp;amp;theme=swift&amp;amp;hide=javascript,html,typescript,scss,css,glsl,PLpgSQL,shell,java,vue,JavaScript&amp;amp;langs_count=2&amp;amp;card_width=467&#34; alt=&#34;Top Langs&#34;&gt;&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;!-- raw HTML omitted --&gt;
</content>
    </item>
    
    <item>
      <title>三观</title>
      <link>/en/posts/2017-10-23-san-guan/</link>
      <pubDate>Mon, 23 Oct 2017 08:27:09 +0800</pubDate>
      <author>xiaqiankun@outlook.com (xqk)</author>
      <guid>/en/posts/2017-10-23-san-guan/</guid>
      <description>三观即人生观、世界观、价值观。
听起来全是很模糊的定义，但其实三观这个东西真的很好理解
人生，就是一次观天地、观众生、观自己的过程。 世界，就是一处被看见、被发现、被认知的轮廓。 价值，就是人生和世界交汇后，自然而然的产物。 生活中有些人待人和善处事得体，和这样的人接触自然如沐春风；但有些人却总让你的生活处处添堵，见不得你半点好。
所谓“道不同不相为谋”， 说的其实就是三观相合与否这个道理。</description>
      <content>&lt;p&gt;三观即人生观、世界观、价值观。&lt;/p&gt;
&lt;p&gt;听起来全是很模糊的定义，但其实三观这个东西真的很好理解&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;人生，就是一次观天地、观众生、观自己的过程。&lt;/li&gt;
&lt;li&gt;世界，就是一处被看见、被发现、被认知的轮廓。&lt;/li&gt;
&lt;li&gt;价值，就是人生和世界交汇后，自然而然的产物。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;生活中有些人待人和善处事得体，和这样的人接触自然如沐春风；但有些人却总让你的生活处处添堵，见不得你半点好。&lt;/p&gt;
&lt;p&gt;所谓“道不同不相为谋”，
说的其实就是三观相合与否这个道理。&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>买房注意事项</title>
      <link>/en/posts/2017-06-05-mai-fang-zhu-yi-shi-xiang/</link>
      <pubDate>Mon, 05 Jun 2017 15:56:28 +0800</pubDate>
      <author>xiaqiankun@outlook.com (xqk)</author>
      <guid>/en/posts/2017-06-05-mai-fang-zhu-yi-shi-xiang/</guid>
      <description>注意⚠️：发票和住房合同
1 找点：一天至少6个楼盘，勿和销售 2 确定意向点：挑选出3～4个楼盘（多和买房人聊聊，了解楼盘的详细情况，附近政策！！，80%的小道消息都是真的，勿和销售细谈） 3 比较优缺点：风格、价位、开发商、现房还是期房（交房时间） 4 明确点，考虑细节：银行、材料、首付款</description>
      <content>&lt;p&gt;注意⚠️：发票和住房合同&lt;/p&gt;
&lt;p&gt;1 找点：一天至少6个楼盘，勿和销售
2 确定意向点：挑选出3～4个楼盘（多和买房人聊聊，了解楼盘的详细情况，附近政策！！，80%的小道消息都是真的，勿和销售细谈）
3 比较优缺点：风格、价位、开发商、现房还是期房（交房时间）
4 明确点，考虑细节：银行、材料、首付款&lt;/p&gt;
</content>
    </item>
    
  </channel>
</rss>
